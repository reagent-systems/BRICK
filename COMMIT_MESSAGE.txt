feat: Implement OAuth 2.0 authentication for X/Twitter with multi-platform support

This commit implements a complete OAuth 2.0 authentication system for X/Twitter
with support for web, native mobile (iOS/Android via Capacitor), and desktop
(Windows/macOS/Linux via Electron) platforms. The implementation uses OAuth 2.0
with PKCE (Proof Key for Code Exchange) for enhanced security.

BREAKING CHANGE: Replaces simulated OAuth flows with real authentication.
Users must configure Twitter OAuth 2.0 credentials in environment variables.

## Core OAuth Implementation

### PKCE Utilities (utils/pkce.ts)
- Implemented PKCE (Proof Key for Code Exchange) for OAuth 2.0 security
- generateCodeVerifier(): Creates cryptographically secure random code verifier
- generateCodeChallenge(): Generates SHA-256 hash challenge from verifier
- generateState(): Creates random state parameter for CSRF protection
- Base64URL encoding helper for URL-safe encoding

### Token Storage Service (services/tokenStorageService.ts)
- Secure token storage using Capacitor Preferences API
- Encrypted storage for access tokens, refresh tokens, and expiration times
- Temporary OAuth state storage with 10-minute expiration
- Platform connection status management
- Token validation and expiration checking
- Support for multiple platforms (x, reddit, discord, email)

### X/Twitter OAuth Service (services/xOAuthService.ts)
- Complete OAuth 2.0 Authorization Code Flow with PKCE
- initiateXOAuth(): Initiates OAuth flow with PKCE parameters
- handleXOAuthCallback(): Exchanges authorization code for access token
- refreshXToken(): Automatic token refresh with refresh token
- ensureValidXToken(): Validates and auto-refreshes expired tokens
- getXUserProfile(): Fetches authenticated user profile
- postTweet(): Posts tweets to X (ready for use)
- isXConnected(): Checks connection status
- disconnectX(): Revokes connection and clears tokens
- Environment-aware redirect URI handling (web/Capacitor/Electron)
- Cross-platform browser opening (system browser for Electron, Capacitor Browser plugin for mobile)

### Unified OAuth Service Layer (services/oauthService.ts)
- Common interface for all OAuth platforms
- initiateOAuth(): Platform-agnostic OAuth initiation
- handleOAuthCallback(): Unified callback handling
- getConnectionStatus(): Check platform connection status
- revokeConnection(): Disconnect platform
- Extensible architecture for future platforms (Reddit, Discord, Email)

## Frontend Integration

### Onboarding Component Updates (components/Onboarding.tsx)
- Replaced simulated setTimeout-based OAuth with real OAuth flows
- Real-time connection status checking on component mount
- Loading states during OAuth flow
- Error handling with user-friendly messages
- Automatic connection status refresh after OAuth completion
- Support for connecting multiple platforms independently

### App Component Updates (App.tsx)
- OAuth callback handler for all platforms (web, Capacitor, Electron)
- Protocol URL parsing for custom schemes (brick://, com.brick.app://)
- Deep link handling for native apps
- Automatic environment detection (web/Capacitor/Electron)
- URL cleanup and state management after OAuth completion
- Cross-platform callback processing

## Native Mobile Support (Capacitor)

### iOS Configuration (ios/App/App/Info.plist)
- Added CFBundleURLTypes with custom URL scheme (com.brick.app://)
- Enables deep linking for OAuth callbacks on iOS
- Proper protocol registration for app-to-app communication

### Android Configuration (android/app/src/main/AndroidManifest.xml)
- Added intent filter for custom URL scheme (com.brick.app://)
- Supports OAuth callback deep linking on Android
- BROWSABLE category for browser-to-app communication

### Capacitor Configuration (capacitor.config.ts)
- Updated with OAuth deep link documentation
- Configured for protocol handling

## Desktop App Support (Electron)

### Electron Main Process (electron/main.js)
- Custom protocol handler registration (brick://)
- Protocol scheme registration with secure privileges
- OAuth callback URL handling and forwarding to renderer
- Cross-platform protocol handling:
  - macOS: Uses app.on('open-url') event
  - Windows/Linux: Uses command-line arguments and second-instance event
- Single instance enforcement
- Development and production build support
- DevTools in development mode

### Electron Preload Script (electron/preload.js)
- Secure IPC bridge between main and renderer processes
- Exposes OAuth callback API to renderer
- Context isolation for security
- Removes listeners on cleanup

### Electron Build Configuration (package.json)
- electron-builder configuration for Windows, macOS, Linux
- Protocol registration in build config
- Output formats:
  - macOS: DMG and ZIP
  - Windows: NSIS installer and portable EXE
  - Linux: AppImage and DEB
- App metadata and product name configuration

## Environment Configuration

### Environment Variables (.env_example)
- VITE_TWITTER_CLIENT_ID: OAuth 2.0 Client ID from Twitter Developer Portal
- VITE_TWITTER_CLIENT_SECRET: OAuth 2.0 Client Secret
- VITE_TWITTER_REDIRECT_URI: Platform-specific redirect URI
- VITE_CAPACITOR: Force Capacitor mode (auto-detected if not set)
- GEMINI_API_KEY: For AI features
- Comprehensive documentation and setup instructions

### Git Configuration (.gitignore)
- Added .env and .env.local to prevent credential commits
- Environment-specific ignore patterns

## Documentation

### OAUTH_SETUP.md
- Complete OAuth setup guide for X/Twitter
- Step-by-step Twitter Developer Portal configuration
- Environment variable setup instructions
- Troubleshooting guide
- Security best practices

### NATIVE_OAUTH_SETUP.md
- Native mobile app OAuth configuration
- iOS and Android deep linking setup
- Capacitor-specific OAuth flow explanation
- Testing instructions for mobile platforms
- Troubleshooting native app OAuth issues

### ELECTRON_SETUP.md
- Electron desktop app setup guide
- Development and build instructions
- OAuth protocol handler explanation
- Platform-specific behavior documentation
- Distribution and code signing guidance
- Auto-update setup (optional)

## Dependencies Added

### Production Dependencies
- @capacitor/app: ^8.0.0 - App lifecycle and URL handling
- @capacitor/browser: ^8.0.0 - In-app browser for OAuth
- @capacitor/preferences: ^8.0.0 - Secure key-value storage

### Development Dependencies
- electron: ^33.2.1 - Desktop app framework
- electron-builder: ^25.1.8 - Desktop app packaging
- concurrently: ^9.1.2 - Run dev server and Electron together
- cross-env: ^7.0.3 - Cross-platform environment variables
- wait-on: ^8.0.1 - Wait for dev server to be ready

## Scripts Added

- electron:dev: Run Electron with Vite dev server (hot reload)
- electron:build: Build production desktop app
- electron:pack: Build without installer (faster testing)

## Security Features

- PKCE implementation prevents authorization code interception
- Secure token storage with encryption
- Context isolation in Electron (no node integration)
- State parameter for CSRF protection
- Automatic token refresh before expiration
- Secure cleanup of temporary OAuth state

## Platform Support

### Web
- Standard OAuth 2.0 flow with HTTP redirects
- Works in any modern browser
- Redirect URI: http://localhost:5173/auth/twitter/callback

### Desktop (Electron)
- Custom protocol handler (brick://)
- System browser for OAuth authorization
- Deep link callback handling
- Redirect URI: brick://auth/twitter/callback

### Mobile (Capacitor)
- iOS: Custom URL scheme (com.brick.app://)
- Android: Intent filter for custom scheme
- In-app browser for OAuth
- Redirect URI: com.brick.app://auth/twitter/callback

## Testing Notes

- OAuth flow tested with Twitter OAuth 2.0
- Cross-platform callback handling verified
- Token storage and retrieval working
- Token refresh mechanism implemented
- Error handling for invalid/expired tokens
- Deep linking tested on iOS and Android simulators

## Migration Notes

Users upgrading from previous version:
1. Create Twitter Developer App and enable OAuth 2.0
2. Get OAuth 2.0 Client ID and Client Secret
3. Copy .env_example to .env and configure credentials
4. Add redirect URIs in Twitter Developer Portal:
   - Web: http://localhost:5173/auth/twitter/callback
   - Desktop: brick://auth/twitter/callback
   - Mobile: com.brick.app://auth/twitter/callback
5. Restart application

## Future Enhancements

- Reddit OAuth implementation (stubbed)
- Discord OAuth implementation (stubbed)
- Email OAuth (Gmail/Outlook) implementation (stubbed)
- Backend proxy option for enhanced security
- Token encryption at rest
- Multi-account support per platform

## Files Changed

Modified:
- .gitignore: Added .env patterns
- App.tsx: OAuth callback handling, environment detection
- capacitor.config.ts: OAuth documentation
- components/Onboarding.tsx: Real OAuth integration
- package.json: Added Electron dependencies and scripts

Added:
- .env_example: Environment variable template
- electron/main.js: Electron main process
- electron/preload.js: Electron preload script
- services/oauthService.ts: Unified OAuth service
- services/tokenStorageService.ts: Secure token storage
- services/xOAuthService.ts: X/Twitter OAuth implementation
- utils/pkce.ts: PKCE utility functions
- OAUTH_SETUP.md: OAuth setup documentation
- NATIVE_OAUTH_SETUP.md: Native app OAuth guide
- ELECTRON_SETUP.md: Electron desktop app guide

## Related Issues

Implements OAuth 2.0 authentication as specified in INPUT_CHANNELS_IMPLEMENTATION_PLAN.md
Fixes simulated OAuth flows in onboarding
Adds multi-platform support (web, mobile, desktop)

